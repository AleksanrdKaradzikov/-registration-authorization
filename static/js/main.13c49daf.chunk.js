(this["webpackJsonpregistration-authorization"]=this["webpackJsonpregistration-authorization"]||[]).push([[0],{132:function(e,a,t){e.exports=t(278)},270:function(e,a,t){},272:function(e,a,t){},273:function(e,a,t){},274:function(e,a,t){},277:function(e,a,t){},278:function(e,a,t){"use strict";t.r(a);var r,n=t(0),s=t.n(n),i=t(54),l=t(13),c=t(20),o=t(126),m=t(127),u=t(24),p=t(16),d=t(279),b=t(30),f=t.n(b),E=t(280),h=Object(E.a)("USER_REG"),g=Object(E.a)("USER_REG_ERROR"),_=Object(E.a)("USER_LOGIN"),v=Object(E.a)("USER_LOGIN_ERROR"),N=Object(E.a)("USER_LOGIN_EXIT"),O=Object(d.a)((r={},Object(u.a)(r,h,(function(e,a){var t=a.payload.reg;return Object(p.a)({},e,{isSuccessful:t,error:null})})),Object(u.a)(r,g,(function(e,a){var t=a.payload.error;return Object(p.a)({},e,{isSuccessful:null,error:t})})),Object(u.a)(r,_,(function(e,a){var t=a.payload.user;return Object(p.a)({},e,{userData:Object(p.a)({},t),isAuthorized:!0})})),Object(u.a)(r,v,(function(e){return Object(p.a)({},e,{error:!0})})),Object(u.a)(r,N,(function(e){return Object(p.a)({},e,{isSuccessful:null,isAuthorized:null,error:null,userData:null})})),r),{isSuccessful:null,isAuthorized:null,error:null,userData:null}),j=Object(c.combineReducers)({user:O}),w=t(23),S=t(21),y=t(56),x=t(57),z=t(61),R=t(58),k=t(62),A=t(5),D=t(17),P=(t(270),function(e){var a=e.pageName,t=e.links,r=void 0===t?[]:t,n=e.to,i=void 0===n?null:n;return s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h3",{className:"header__heading"},a)),s.a.createElement("div",{className:"col-6"},s.a.createElement("ul",{className:"header__list"},r.map((function(e){return s.a.createElement("li",{key:e,className:"header__list-item"},s.a.createElement(S.b,{className:"header-link",to:i},e))}))))))}),T=P;P.defaultProps={pageName:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",links:[],to:null};var q=T,F=(t(272),D.object().shape({password:D.string().min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:D.string().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441\u0441").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})),G={login:function(e,a){return function(t){var r,n;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.a.awrap(fetch("https://conduit.productionready.io/api/users/login",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:e}));case 2:if(!(r=s.sent).ok){s.next=9;break}return s.next=6,f.a.awrap(r.json().then((function(e){return e})));case 6:return n=s.sent,a(),s.abrupt("return",t(_({user:Object(p.a)({},n.user)})));case 9:return s.abrupt("return",t(v()));case 10:case"end":return s.stop()}}))}}},I=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(z.a)(this,Object(R.a)(a).call(this,e))).handleLoginSbm=function(e,a){var r=e.password,n=e.email;(0,t.props.login)(JSON.stringify({user:{email:n,password:r}}),a)},t.state={},t}return Object(k.a)(a,e),Object(x.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.isAuthorized,r=a.error,n=function(){return t?s.a.createElement(w.a,{to:"/"}):null};return s.a.createElement(s.a.Fragment,null,s.a.createElement(w.b,{exact:!0,path:"/login",render:n}),s.a.createElement(q,{pageName:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",links:["\u0420\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f"],to:"/signup"}),s.a.createElement("div",{className:"wrapper-page"},s.a.createElement("h2",{className:"wrapper-page__heading"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),s.a.createElement("p",{className:"wrapper-page__text"},"\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0432\u0430\u0448 email \u0438 \u043f\u0430\u0440\u043e\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u044b\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442"),s.a.createElement(A.d,{initialValues:{email:"",password:""},validationSchema:F,onSubmit:function(a,t){var r=t.setSubmitting,n=t.resetForm;r(!1),e.handleLoginSbm(a,n)}},s.a.createElement(A.c,{className:"form-auhorization"},s.a.createElement(A.b,{name:"email",type:"email",placeholder:"\u0412\u0430\u0448 Email",className:"form-auhorization__input",id:"email"}),s.a.createElement(A.a,{name:"email"},(function(e){return s.a.createElement("div",{className:"form-auhorization__error--message"},e)})),s.a.createElement(A.b,{name:"password",type:"password",id:"password",placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",className:"form-auhorization__input"}),s.a.createElement(A.a,{name:"password"},(function(e){return s.a.createElement("div",{className:"form-auhorization__error--message"},e)})),r?s.a.createElement("div",{className:"form-auhorization__error--message"},"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):null,s.a.createElement("button",{className:"btn-submit",type:"submit"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),s.a.createElement(S.b,{to:"/signup"},s.a.createElement("button",{className:"btn-standart",type:"button"},"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))))}}]),a}(s.a.Component),L=Object(l.b)((function(e){var a=e.user;return{isAuthorized:a.isAuthorized,error:a.error}}),G)(I);I.defaultProps={isAuthorized:null,login:function(){},error:{}};var U=L,C=(t(273),D.object().shape({username:D.string().min(2,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:D.string().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:D.string().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441\u0441").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})),J={registration:function(e,a){return function(t){var r,n;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.a.awrap(fetch("https://conduit.productionready.io/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:e}));case 2:if(!(r=s.sent).ok){s.next=6;break}return a(),s.abrupt("return",t(h({reg:!0})));case 6:return s.next=8,f.a.awrap(r.json().then((function(e){return e.errors})));case 8:return n=s.sent,s.abrupt("return",t(g({error:n})));case 10:case"end":return s.stop()}}))}}},V=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(z.a)(this,Object(R.a)(a).call(this,e))).handleRegestrationSbm=function(e,a){var r=e.username,n=e.password,s=e.email;(0,t.props.registration)(JSON.stringify({user:{username:r,email:s,password:n}}),a)},t.state={},t}return Object(k.a)(a,e),Object(x.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.isSuccessful,r=a.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q,{pageName:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u0438",links:["\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"],to:"/login"}),s.a.createElement("div",{className:"wrapper-page"},s.a.createElement("h2",{className:"wrapper-page__heading"},"\u0420\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.a.createElement("p",{className:"wrapper-page__text"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, email \u0430\u0434\u0440\u0435\u0441\u0441 \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435"),s.a.createElement(A.d,{initialValues:{username:"",email:"",password:""},validationSchema:C,onSubmit:function(a,r){var n=r.setSubmitting,s=r.resetForm;n(t),e.handleRegestrationSbm(a,s)}},s.a.createElement(A.c,{className:"form-regestration"},s.a.createElement(A.b,{name:"username",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"form-regestration__input",id:"username"}),s.a.createElement(A.a,{name:"username"},(function(e){return s.a.createElement("div",{className:"form-regestration__error--message"},e)})),r?s.a.createElement("div",{className:"form-regestration__error--message"},r.username):null,s.a.createElement(A.b,{name:"email",type:"email",placeholder:"\u0412\u0430\u0448 Email",className:"form-regestration__input",id:"email"}),s.a.createElement(A.a,{name:"email"},(function(e){return s.a.createElement("div",{className:"form-regestration__error--message"},e)})),r?s.a.createElement("div",{className:"form-regestration__error--message"},r.email):null,s.a.createElement(A.b,{name:"password",type:"password",id:"password",placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",className:"form-regestration__input"}),s.a.createElement(A.a,{name:"password"},(function(e){return s.a.createElement("div",{className:"form-regestration__error--message"},e)})),r?s.a.createElement("div",{className:"form-regestration__error--message"},r.password):null,s.a.createElement("button",{className:"btn-submit",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),s.a.createElement(S.b,{to:"/login"},s.a.createElement("button",{className:"btn-standart",type:"button"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?")),t?s.a.createElement("div",{className:"successes-message"},"\u0420\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"):null))))}}]),a}(s.a.Component),B=Object(l.b)((function(e){var a=e.user;return{isSuccessful:a.isSuccessful,error:a.error}}),J)(V);V.defaultProps={registration:null,isSuccessful:null,error:null};var M=B,W=(t(274),{exit:function(){return N()}}),X=function(e){var a=e.id,t=e.email,r=e.username,n=e.exit;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q,{pageName:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),s.a.createElement("div",{className:"wrapper-page"},s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"home-page-form",onSubmit:n},s.a.createElement("div",{className:"home-page-form__label"},"id: ",a),s.a.createElement("div",{className:"home-page-form__label"},"Email: ",t),s.a.createElement("div",{className:"home-page-form__label"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",r),s.a.createElement("button",{className:"btn-exit",type:"submit"},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430")))))},H=Object(l.b)((function(e){var a=e.user;return{id:a.userData.id,email:a.userData.email,username:a.userData.username}}),W)(X);X.defaultProps={id:"",email:"",username:"",exit:function(){}};var K=H,Q=(t(275),t(276),t(277),function(e){var a=e.isAuthorized;return s.a.createElement("div",{className:"container"},s.a.createElement(S.a,null,s.a.createElement(w.d,null,s.a.createElement(w.b,{path:"/",exact:!0,render:function(){return a?s.a.createElement(K,null):s.a.createElement(w.a,{to:"/login"})}}),s.a.createElement(w.b,{path:"/login",component:U}),s.a.createElement(w.b,{path:"/signup",component:M}))))}),Y=Object(l.b)((function(e){return{isAuthorized:e.user.isAuthorized}}))(Q);Q.defaultProps={isAuthorized:null};var Z=Y,$=Object(c.createStore)(j,Object(o.composeWithDevTools)(Object(c.applyMiddleware)(m.a)));Object(i.render)(s.a.createElement(l.a,{store:$},s.a.createElement(Z,null)),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.13c49daf.chunk.js.map